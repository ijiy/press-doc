import{_ as s,c as a,o as n,a1 as l}from"./chunks/framework.B3EJgH_4.js";const m=JSON.parse('{"title":"Git 【分布式版本控制系统】","description":"","frontmatter":{},"headers":[],"relativePath":"git/index.md","filePath":"git/index.md","lastUpdated":1716256931000}'),e={name:"git/index.md"},p=l(`<h1 id="git-【分布式版本控制系统】" tabindex="-1">Git 【分布式版本控制系统】 <a class="header-anchor" href="#git-【分布式版本控制系统】" aria-label="Permalink to &quot;Git 【分布式版本控制系统】&quot;">​</a></h1><h2 id="部署" tabindex="-1">部署 <a class="header-anchor" href="#部署" aria-label="Permalink to &quot;部署&quot;">​</a></h2><ol><li><p>前提</p><ul><li>在代码托管平台或服务器已有项目仓库</li><li>已安装<a href="https://git-scm.com/download/win" target="_blank" rel="noreferrer">git</a></li><li>在本地磁盘新建项目目录, 并在该目录下右键 -&gt; <code>Git Bash Here</code><ul><li>确保该目录为空目录, 或根目录下的文件和远程仓库根目录下的文件不会冲突 (即没有相同的文件名)</li></ul></li></ul></li><li><p>全局配置</p><ul><li>全局仓库 声明用户 <ul><li>已全局声明, 并采用全局的声明用户, 跳过此步骤</li><li>&quot;当前仓库 声明用户&quot; (非全局声明), 需要先<a href="#初始化本地仓库">初始化本地git仓库</a></li></ul></li></ul></li></ol><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> config</span><span style="color:#AE81FF;"> --global</span><span style="color:#E6DB74;"> user.name</span><span style="color:#E6DB74;"> &quot;你的昵称 (只用来显示, 随便昵称)&quot;</span></span>
<span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> config</span><span style="color:#AE81FF;"> --global</span><span style="color:#E6DB74;"> user.email</span><span style="color:#E6DB74;"> &quot;你的邮箱 (用来显示, 随便邮箱, 可非正确邮箱; 组织/企业的仓库关联的邮箱, 修改后关联失效))&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="初始化本地仓库" tabindex="-1">初始化本地仓库 <a class="header-anchor" href="#初始化本地仓库" aria-label="Permalink to &quot;初始化本地仓库&quot;">​</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> init</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>&quot;当前仓库 声明用户&quot; <ul><li>采用全局的声明用户, 跳过此步骤</li></ul></li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> config</span><span style="color:#E6DB74;"> user.name</span><span style="color:#E6DB74;"> &quot;yyy&quot;</span></span>
<span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> config</span><span style="color:#E6DB74;"> user.email</span><span style="color:#E6DB74;"> &quot;xxx@qq.com&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>添加远程仓库地址</li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> remote</span><span style="color:#E6DB74;"> add</span><span style="color:#E6DB74;"> origin</span><span style="color:#E6DB74;"> https://gitee.com/qpv/test.git</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>拉取远程&quot;master&quot;分支 (主分支) <ul><li>如果远程仓库为空的, 即没有任何内容, 跳过此步骤</li></ul></li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> pull</span><span style="color:#E6DB74;"> origin</span><span style="color:#E6DB74;"> master</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>提交到本地暂存区</li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#88846F;"># 暂存所有新增和修改的文件</span></span>
<span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> add</span><span style="color:#E6DB74;"> .</span></span>
<span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> commit</span><span style="color:#AE81FF;"> -m</span><span style="color:#E6DB74;"> &quot;提交描述内容&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>取消暂存区</li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> reset</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>推送到远程&quot;master&quot;分支</li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> push</span><span style="color:#E6DB74;"> origin</span><span style="color:#E6DB74;"> master</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="分支" tabindex="-1">分支 <a class="header-anchor" href="#分支" aria-label="Permalink to &quot;分支&quot;">​</a></h2><ul><li><p>不要直接拉取非&quot;master&quot;的分支</p></li><li><p>所有分支都应该由&quot;master&quot;检出</p></li><li><p>新建一个分支, 并切换到该分支</p><ul><li>建议取和远程分支相同的名称</li></ul></li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> checkout</span><span style="color:#AE81FF;"> -b</span><span style="color:#E6DB74;"> develop</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>拉取远程&quot;develop&quot;分支 <ul><li>如果远程没有该分支, 跳过此步骤</li></ul></li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> pull</span><span style="color:#E6DB74;"> origin</span><span style="color:#E6DB74;"> develop</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>推送到远程&quot;develop&quot;分支 <ul><li>如果远程仓库没有该分支, 将在远程仓库生成该分支</li><li>可不急于推送, 比如直到项目完成再推送; 或不推送, 只作为本地调试</li></ul></li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> push</span><span style="color:#E6DB74;"> origin</span><span style="color:#E6DB74;"> develop</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>查看所有分支 (包括本地和远程的所有分支)</li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> branch</span><span style="color:#AE81FF;"> -a</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>切换分支 <ul><li>确保所有更新操作都以提交或删除</li></ul></li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> checkout</span><span style="color:#E6DB74;"> master</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>删除一个本地分支 <ul><li>不能处于当前要删除的分支, 需先 切换分支 (如切换到master分支)</li></ul></li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> branch</span><span style="color:#AE81FF;"> -d</span><span style="color:#E6DB74;"> develop</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>合并分支 (如当前处于&quot;master&quot;, 要将&quot;develop&quot;合并入&quot;master&quot;) <ul><li>合并完后, 应该要 推送到远程&quot;master&quot;分支</li></ul></li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> merge</span><span style="color:#E6DB74;"> develop</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="查看git配置-git-config" tabindex="-1">查看git配置 (git config) <a class="header-anchor" href="#查看git配置-git-config" aria-label="Permalink to &quot;查看git配置 (git config)&quot;">​</a></h2><ul><li>查看所有配置 <ul><li>包括全局配置和&quot;仓库私有配置&quot;</li><li>内置编译器查看, 不能编辑</li></ul></li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> config</span><span style="color:#AE81FF;"> --list</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>绑定编译器 <ul><li>编译器的路径不能有空格, 比如&quot;D:/Sublime Text&quot;错误的, 正确为&quot;D:/SublimeText&quot;</li></ul></li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> config</span><span style="color:#AE81FF;"> --global</span><span style="color:#AE81FF;"> --add</span><span style="color:#E6DB74;"> core.editor</span><span style="color:#E6DB74;"> &quot;D:/SublimeText/sublime_text.exe&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 解绑编译器, 回退默认的编译器 (即内置的vim, 此操作不常用, 可通过编辑全局配置解绑或绑定其它编译器)</span></span>
<span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> config</span><span style="color:#AE81FF;"> --global</span><span style="color:#AE81FF;"> --unset-all</span><span style="color:#E6DB74;"> core.editor</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>查看和编辑配置 当前仓库</li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> config</span><span style="color:#AE81FF;"> -e</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>全局配置 (不包含&quot;仓库私有配置&quot;)</li></ul><div class="language-git line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">git</span><pre class="shiki monokai vp-code"><code><span class="line"><span>git config -e --global</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>修改配置区分大小写 (默认忽略大小写, 不建议修改, 影响性能)</li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> config</span><span style="color:#E6DB74;"> core.ignorecase</span><span style="color:#AE81FF;"> false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 全局</span></span>
<span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> config</span><span style="color:#AE81FF;"> --global</span><span style="color:#E6DB74;"> core.ignorecase</span><span style="color:#AE81FF;"> false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 查看</span></span>
<span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> config</span><span style="color:#AE81FF;"> --get</span><span style="color:#E6DB74;"> core.ignorecase</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="报错和解决" tabindex="-1">报错和解决 <a class="header-anchor" href="#报错和解决" aria-label="Permalink to &quot;报错和解决&quot;">​</a></h2><ul><li><p>Error: Could not fork child process: There are no available terminals (-1).</p><ul><li>可能原因: 残留进程 (比如通过命令打开编译器, 此时, 会创建一个侦听进程, 需要先关闭编译, 才会结束该侦听进程, 如果直接关闭git命令符窗口, 该侦听进程未结束, 就会残留)</li><li>解决方式: 重启电脑</li></ul></li><li><p>unsafe repository git config --global --add safe.directory</p><ul><li>需要将项目目录设置为本地安全仓库</li></ul></li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> config</span><span style="color:#AE81FF;"> --global</span><span style="color:#AE81FF;"> --add</span><span style="color:#E6DB74;"> safe.directory</span><span style="color:#E6DB74;"> D:/Project/qp-press</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>fatal: unable to access &#39;<a href="https://gitee.com/xx/yy.git/" target="_blank" rel="noreferrer">https://gitee.com/xx/yy.git/</a>&#39;: getaddrinfo() thread failed to start <ul><li>原因: 防火墙未允许通过</li><li>解决方式: <a href="./../tool/win#防火墙">防火墙</a></li></ul></li></ul><h2 id="常用命令" tabindex="-1">常用命令 <a class="header-anchor" href="#常用命令" aria-label="Permalink to &quot;常用命令&quot;">​</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#88846F;"># 推送, 但未提交 - 取消推送</span></span>
<span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> reset</span><span style="color:#AE81FF;"> --hard</span><span style="color:#E6DB74;"> origin/master</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 批量上传限制, 比如限制 150M (= 157286400b)</span></span>
<span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> config</span><span style="color:#AE81FF;"> --global</span><span style="color:#E6DB74;"> http.postBuffer</span><span style="color:#AE81FF;"> 157286400</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 强制覆盖提交 (避免使用)</span></span>
<span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> push</span><span style="color:#AE81FF;"> -f</span><span style="color:#E6DB74;"> origin</span><span style="color:#E6DB74;"> developer:developer</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 忽略已经加入版本控制的文件</span></span>
<span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> update-index</span><span style="color:#AE81FF;"> --assume-unchanged</span><span style="color:#E6DB74;"> vue.config.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 重新加入版本控制</span></span>
<span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> update-index</span><span style="color:#AE81FF;"> --no-assume-unchanged</span><span style="color:#E6DB74;"> vue.config.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 查看当前分支版本历史 (-2 最近2条记录)</span></span>
<span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> log</span><span style="color:#AE81FF;"> -2</span><span style="color:#AE81FF;"> --stat</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 克隆 直接下载整个仓库</span></span>
<span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> clone</span><span style="color:#E6DB74;"> https://gitee.com/qpv/test1.git</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="克隆远程仓库的一个文件-如-dist" tabindex="-1">克隆远程仓库的一个文件 (如 dist) <a class="header-anchor" href="#克隆远程仓库的一个文件-如-dist" aria-label="Permalink to &quot;克隆远程仓库的一个文件 (如 dist)&quot;">​</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#88846F;"># 1. 在 dist 所在目录 (不是 dist 内; 如果有 dist, 先删了), 右键 -&gt; \`Git Bash Here\`</span></span>
<span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> init</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 2. 配置允许过滤</span></span>
<span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> config</span><span style="color:#E6DB74;"> core.sparsecheckout</span><span style="color:#AE81FF;"> true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 3. 过滤目录</span></span>
<span class="line"><span style="color:#66D9EF;">echo</span><span style="color:#E6DB74;"> &#39;dist*&#39;</span><span style="color:#F92672;"> &gt;&gt;</span><span style="color:#E6DB74;"> .git/info/sparse-checkout</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 4. 添加仓库</span></span>
<span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> remote</span><span style="color:#E6DB74;"> add</span><span style="color:#E6DB74;"> origin</span><span style="color:#E6DB74;"> https://gitee.com/wonderful-code/buildadmin.git</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 5. 拉取仓库 ([master]选择想要拉去的分值)</span></span>
<span class="line"><span style="color:#A6E22E;">git</span><span style="color:#E6DB74;"> pull</span><span style="color:#E6DB74;"> origin</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div>`,52),o=[p];function i(r,c,t,u,d,b){return n(),a("div",null,o)}const g=s(e,[["render",i]]);export{m as __pageData,g as default};
