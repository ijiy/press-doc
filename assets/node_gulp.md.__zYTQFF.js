import{_ as l,c as s,o as a,a1 as e}from"./chunks/framework.B3EJgH_4.js";const g=JSON.parse('{"title":"gulp (旧)","description":"","frontmatter":{},"headers":[],"relativePath":"node/gulp.md","filePath":"node/gulp.md","lastUpdated":1716256931000}'),n={name:"node/gulp.md"},p=e(`<h1 id="gulp-旧" tabindex="-1">gulp (旧) <a class="header-anchor" href="#gulp-旧" aria-label="Permalink to &quot;gulp (旧)&quot;">​</a></h1><ul><li><a href="https://gitee.com/ijis/gulp/tree/master" target="_blank" rel="noreferrer">新版</a></li></ul><h2 id="环境" tabindex="-1">环境 <a class="header-anchor" href="#环境" aria-label="Permalink to &quot;环境&quot;">​</a></h2><ul><li><p>node -v <code>v14.7.0</code></p></li><li><p>npm -v <code>6.14.7</code></p></li><li><p>gulp --v <code>CLI version: 2.3.0; Local version: 4.0.2</code></p></li></ul><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h2><ul><li><p><code>npm i gulp-cli -g</code></p></li><li><p>mkdir 项目目录名</p></li><li><p>cd app <code>npm i gulp -D</code></p></li><li><p>package.json <code>npm init -y</code></p></li><li><p>添加 gulpfile.js</p></li><li><p>开发依赖</p><ul><li>del</li><li>portfinder</li><li>gulp-cache</li><li>gulp-connect</li><li>gulp-sass</li><li>gulp-csso</li><li>gulp-autoprefixer</li><li>gulp-babel @babel/core @babel/preset-env @babel/plugin-transform-runtime</li><li>gulp-uglify</li><li>gulp-rev</li><li>gulp-rev-replace</li><li>gulp-imagemin <ul><li>要切换官方镜像</li></ul></li></ul></li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#A6E22E;">npm</span><span style="color:#E6DB74;"> i</span><span style="color:#E6DB74;"> del</span><span style="color:#AE81FF;"> -D</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>项目依赖 <ul><li>gulp-open</li><li>gulp-htmlmin</li><li>@babel/runtime</li></ul></li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#A6E22E;">npm</span><span style="color:#E6DB74;"> i</span><span style="color:#E6DB74;"> gulp-open</span><span style="color:#AE81FF;"> -S</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="package-json" tabindex="-1">package.json <a class="header-anchor" href="#package-json" aria-label="Permalink to &quot;package.json&quot;">​</a></h2><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">	&quot;browserslist&quot;</span><span style="color:#F8F8F2;">: [</span></span>
<span class="line"><span style="color:#CFCFC2;">		&quot;&gt; 1%&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#CFCFC2;">		&quot;last 2 versions&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">	]</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li><p>&quot;browserslist&quot;不要有&quot;not dead&quot;, 不然 autoprefixer 无效</p></li><li><p>webStorm配置</p><ul><li>左下角打开&quot;Gulp&quot;面板, 注意不是&quot;npm&quot;面板</li><li>右击 serve/build</li><li>点击 Edit &#39;serve/build&#39; Settings...</li><li>Arguments: 输入执行的项目路径, 如 src/page</li><li>单项目结构不用以上配置</li><li>然后双击 serve/build 运行项目</li><li>没有暴露default, 不要尝试双击&quot;Gulp&quot;面板中的 ...\\gulpfile.js</li></ul></li></ul><h2 id="运行" tabindex="-1">运行 <a class="header-anchor" href="#运行" aria-label="Permalink to &quot;运行&quot;">​</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;">::</span><span style="color:#E6DB74;"> 调试</span></span>
<span class="line"><span style="color:#A6E22E;">gulp</span><span style="color:#E6DB74;"> serve</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;">::</span><span style="color:#E6DB74;"> 打包</span></span>
<span class="line"><span style="color:#A6E22E;">gulp</span><span style="color:#E6DB74;"> build</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="注意" tabindex="-1">注意 <a class="header-anchor" href="#注意" aria-label="Permalink to &quot;注意&quot;">​</a></h2><ul><li><p>若 根目录下 运行, 不触发侦听, 需手动刷新, 不能自动打开. 但会运行所有项目, 且速度很快</p></li><li><p>无论运行还是打包, 应该到 根目录下 cd src/项目文件夹, 再执行</p></li><li><p>不要添加&quot;script&quot;, 来通过npm run运行, 这样将找不到正确的运行路径</p></li><li><p>assets文件夹 只打包, 不编译/压缩/版本号等处理</p></li><li><p>js/css文件夹 是babel和scss目录的编译结果, 需添加版本号的文件可放入</p></li><li><p>可创建多级目录, 但局限于assets, babel, scss, img, 以及包含*.html的目录</p></li><li><p>可以是单项目结构(cd src); 或多项目结构(cd src/page), 每个项目只能位于src下的一级目录(src&gt;[...pages])</p></li><li><p>不要在*.css中导入css, 需要可添加, 参考 gulpfile.js 中的 rev_html</p></li><li><p>不要在*.js中导入js和css 需要可添加</p></li><li><p>没有sourcemaps, 需要可添加 (用于浏览器查看代码, 可以映射未编译的文件, 如*.scss)</p></li><li><p>*.html中 <code>&lt;script&gt;</code>不要有es6, 否则该部分js不被编译和压缩</p></li><li><p>*.html中 <code>&lt;style&gt;</code>不要有css3, 否则该部分css不会添加内核前缀, 更不能用scss语法格</p></li></ul><h2 id="文献-🎨" tabindex="-1">文献 🎨 <a class="header-anchor" href="#文献-🎨" aria-label="Permalink to &quot;文献 🎨&quot;">​</a></h2><ul><li><p><a href="https://gulpjs.com/plugins" target="_blank" rel="noreferrer">gulp插件</a></p></li><li><p>雪碧图 <code>npm i gulp.spritesmith -D</code></p></li><li><p>控制台加载状态 <code>npm i ora -D</code></p></li><li><p>签名 <code>npm i gulp-header -D</code></p></li></ul>`,18),i=[p];function o(r,t,c,u,d,b){return a(),s("div",null,i)}const h=l(n,[["render",o]]);export{g as __pageData,h as default};
