import{_ as n,c as a,a0 as l,o as e}from"./chunks/framework.Bakaa70P.js";const u=JSON.parse('{"title":"uniapp 【设备唯一标识】","description":"","frontmatter":{},"headers":[],"relativePath":"uniapp/kf-app/android-id.md","filePath":"uniapp/kf-app/android-id.md","lastUpdated":1705029044000}'),p={name:"uniapp/kf-app/android-id.md"};function o(r,s,i,t,c,d){return e(),a("div",null,s[0]||(s[0]=[l(`<h1 id="uniapp-【设备唯一标识】" tabindex="-1">uniapp 【设备唯一标识】 <a class="header-anchor" href="#uniapp-【设备唯一标识】" aria-label="Permalink to &quot;uniapp 【设备唯一标识】&quot;">​</a></h1><h2 id="android-androidid" tabindex="-1">android - AndroidID <a class="header-anchor" href="#android-androidid" aria-label="Permalink to &quot;android - AndroidID&quot;">​</a></h2><ul><li>卸载重装不会变, 恢复出厂设置会变</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai vp-code" tabindex="0"><code><span class="line"><span style="color:#88846F;">// #ifdef APP-PLUS</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> mainActivity </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> plus.android.</span><span style="color:#A6E22E;">runtimeMainActivity</span><span style="color:#F8F8F2;">();</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> settings </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> plus.android.</span><span style="color:#A6E22E;">importClass</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;android.provider.Settings&quot;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> androidId </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> settings.Secure.</span><span style="color:#A6E22E;">getString</span><span style="color:#F8F8F2;">(mainActivity.</span><span style="color:#A6E22E;">getContentResolver</span><span style="color:#F8F8F2;">(), settings.Secure.ANDROID_ID);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(androidId, </span><span style="color:#E6DB74;">&#39;androidId&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#88846F;">// #endif</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="ios-uuid" tabindex="-1">iOS - uuid <a class="header-anchor" href="#ios-uuid" aria-label="Permalink to &quot;iOS - uuid&quot;">​</a></h2><ul><li><p>卸载重装不会变, 恢复出厂设置会变</p></li><li><p>应用包名关联的算法生成的设备标识符, 更换包名后会变</p></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai vp-code" tabindex="0"><code><span class="line"><span style="color:#88846F;">// #ifdef APP-PLUS</span></span>
<span class="line"><span style="color:#F8F8F2;">plus.device.uuid</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="浏览器的唯一标识" tabindex="-1">浏览器的唯一标识 <a class="header-anchor" href="#浏览器的唯一标识" aria-label="Permalink to &quot;浏览器的唯一标识&quot;">​</a></h2><ul><li>不同的浏览器, 标识不同</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai vp-code" tabindex="0"><code><span class="line"><span style="color:#F92672;">import</span><span style="color:#AE81FF;"> *</span><span style="color:#F92672;"> as</span><span style="color:#F8F8F2;"> FingerprintJS </span><span style="color:#F92672;">from</span><span style="color:#E6DB74;"> &#39;@fingerprintjs/fingerprintjs-pro&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// Initialize an agent at application startup.</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> fpPromise </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> FingerprintJS.</span><span style="color:#A6E22E;">load</span><span style="color:#F8F8F2;">({apiKey: </span><span style="color:#E6DB74;">&#39;your-public-api-key&#39;</span><span style="color:#F8F8F2;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// Analyze the visitor when necessary.</span></span>
<span class="line"><span style="color:#F8F8F2;">fpPromise</span></span>
<span class="line"><span style="color:#F8F8F2;">.</span><span style="color:#A6E22E;">then</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">fp</span><span style="color:#66D9EF;font-style:italic;"> =&gt;</span><span style="color:#F8F8F2;"> fp.</span><span style="color:#A6E22E;">get</span><span style="color:#F8F8F2;">())</span></span>
<span class="line"><span style="color:#F8F8F2;">.</span><span style="color:#A6E22E;">then</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">result</span><span style="color:#66D9EF;font-style:italic;"> =&gt;</span><span style="color:#F8F8F2;"> console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(result.requestId, result.visitorId))</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="文献-🎨" tabindex="-1">文献 🎨 <a class="header-anchor" href="#文献-🎨" aria-label="Permalink to &quot;文献 🎨&quot;">​</a></h2><ul><li><a href="https://dev.fingerprint.com/docs/js-agent" target="_blank" rel="noreferrer">Fingerprint</a></li></ul>`,12)]))}const y=n(p,[["render",o]]);export{u as __pageData,y as default};
