import{_ as a,c as e,a0 as s,o as n}from"./chunks/framework.Bakaa70P.js";const h=JSON.parse('{"title":"uniapp 【uni-push2.0】","description":"","frontmatter":{},"headers":[],"relativePath":"uniapp/uni-push.md","filePath":"uniapp/uni-push.md","lastUpdated":1716256931000}'),i={name:"uniapp/uni-push.md"};function o(t,l,p,u,r,c){return n(),e("div",null,l[0]||(l[0]=[s(`<h1 id="uniapp-【uni-push2-0】" tabindex="-1">uniapp 【uni-push2.0】 <a class="header-anchor" href="#uniapp-【uni-push2-0】" aria-label="Permalink to &quot;uniapp 【uni-push2.0】&quot;">​</a></h1><h2 id="调试" tabindex="-1">调试 <a class="header-anchor" href="#调试" aria-label="Permalink to &quot;调试&quot;">​</a></h2><ul><li><p>只能<code>使用自定义基座运行</code>, 或打包调试 (不能<code>使用标准基座运行</code>)</p></li><li><p>应用安装后, 要在系统<code>设置</code>的应用中, 开启消息通知</p></li></ul><h2 id="开发者中心" tabindex="-1">开发者中心 <a class="header-anchor" href="#开发者中心" aria-label="Permalink to &quot;开发者中心&quot;">​</a></h2><ul><li>uniPush -&gt; 2.0 -&gt; 消息推送 <ul><li>按提示<code>开通应用</code> (相关步骤<code>签名证书</code>, <code>云服务空间</code>)</li><li>创建推送 <ul><li>通知消息 <ul><li>内容编辑 通知标题 通知内容</li><li>无法在客户端中获取到配置的参数 (如 打开应用内特定页面)</li><li>适用于纯粹接收消息, 而客户端不需要API对接</li></ul></li><li>透传消息 <ul><li>内容编辑 <ul><li>描述 (相当于备注, 不参与消息内容)</li><li>透传内容 <ul><li>格式参考 <a href="#透传内容">透传内容</a></li><li><code>payload</code>, 参数</li><li><code>onPushMessage</code>会接收到<code>JSON</code>格式的透传内容</li></ul></li></ul></li><li>Android配置 -&gt; 厂商通道 <ul><li>关闭 <ul><li>客户端启动时 <ul><li>可接收到消息通知</li></ul></li><li>客户端关闭时 <ul><li>无法接收到消息通知</li><li>客户端在消息下发后, 且有效期内打开, <code>onPushMessage</code>也会接收到消息内容 <ul><li>此时, 需要判断<code>type</code>, 即<code>onPushMessage(res =&gt; res.type)</code></li></ul></li></ul></li></ul></li><li>开启 <ul><li>客户端启动时 <ul><li>可接收到消息通知</li><li>消息内容为<code>透传内容</code> (遵循: 推送设置 -&gt; 厂商推送策略 -&gt; 默认策略)</li></ul></li><li>客户端关闭时 <ul><li>需要<code>厂商推广设置</code> (uniPush -&gt; 2.0 -&gt; 厂商推广设置), 方可接收到消息通知</li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul><h2 id="透传内容" tabindex="-1">透传内容 <a class="header-anchor" href="#透传内容" aria-label="Permalink to &quot;透传内容&quot;">​</a></h2><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki monokai vp-code" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">	&quot;title&quot;</span><span style="color:#F8F8F2;">: </span><span style="color:#CFCFC2;">&quot;通知标题&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">	&quot;content&quot;</span><span style="color:#F8F8F2;">: </span><span style="color:#CFCFC2;">&quot;通知内容&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">	&quot;payload&quot;</span><span style="color:#F8F8F2;">: {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">		&quot;path&quot;</span><span style="color:#F8F8F2;">: </span><span style="color:#CFCFC2;">&quot;pages/pay/index&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">	}</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="文献-🎨" tabindex="-1">文献 🎨 <a class="header-anchor" href="#文献-🎨" aria-label="Permalink to &quot;文献 🎨&quot;">​</a></h2><ul><li><p><a href="https://uniapp.dcloud.net.cn/api/plugins/push.html" target="_blank" rel="noreferrer">客户端API</a></p></li><li><p><a href="https://dev.dcloud.net.cn/pages/app/push2/index" target="_blank" rel="noreferrer">DCLOUD开发者中心-消息推送</a></p></li><li><p><a href="https://blog.csdn.net/weixin_40050368/article/details/109615995" target="_blank" rel="noreferrer">CSDN</a></p></li></ul>`,9)]))}const F=a(i,[["render",o]]);export{h as __pageData,F as default};
