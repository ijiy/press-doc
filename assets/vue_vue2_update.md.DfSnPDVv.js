import{_ as s,c as n,o as a,a1 as l}from"./chunks/framework.B3EJgH_4.js";const d=JSON.parse('{"title":"vue2 【数据更新】","description":"","frontmatter":{},"headers":[],"relativePath":"vue/vue2/update.md","filePath":"vue/vue2/update.md","lastUpdated":1715407916000}'),p={name:"vue/vue2/update.md"},e=l(`<h1 id="vue2-【数据更新】" tabindex="-1">vue2 【数据更新】 <a class="header-anchor" href="#vue2-【数据更新】" aria-label="Permalink to &quot;vue2 【数据更新】&quot;">​</a></h1><h2 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言" aria-label="Permalink to &quot;前言&quot;">​</a></h2><ul><li><p>初始数据配置时, data 要返回页面中用到的数据</p></li><li><p>当检测数据变化, 页面会在虚拟DOM重绘后响应</p></li></ul><h2 id="检测数据变化无法响应的情况" tabindex="-1">检测数据变化无法响应的情况 <a class="header-anchor" href="#检测数据变化无法响应的情况" aria-label="Permalink to &quot;检测数据变化无法响应的情况&quot;">​</a></h2><ul><li><p>删除 对象属性(list, obj, obj.name)</p></li><li><p>新增 非根级别的对象属性(obj.name, 非obj/list同级别)</p></li><li><p>对象数组(list)的成员更新, 以及用非变异方法(push, splice等)改变成员</p></li></ul><div class="language-vue line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#F92672;">template</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">	&lt;</span><span style="color:#F92672;">div</span><span style="color:#A6E22E;"> class</span><span style="color:#F8F8F2;">=</span><span style="color:#E6DB74;">&quot;app&quot;</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">		&lt;</span><span style="color:#F92672;">div</span><span style="color:#F92672;"> v-for</span><span style="color:#F8F8F2;">=</span><span style="color:#F8F8F2;">&quot;</span><span style="color:#F8F8F2;">item </span><span style="color:#F92672;">in</span><span style="color:#F8F8F2;"> list</span><span style="color:#F8F8F2;">&quot;</span><span style="color:#F8F8F2;">&gt;{{item}}&lt;/</span><span style="color:#F92672;">div</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">		&lt;</span><span style="color:#F92672;">div</span><span style="color:#F92672;"> v-if</span><span style="color:#F8F8F2;">=</span><span style="color:#F8F8F2;">&quot;</span><span style="color:#F8F8F2;">obj</span><span style="color:#F8F8F2;">&quot;</span><span style="color:#F8F8F2;">&gt;{{obj.name}}{{obj.age}}&lt;/</span><span style="color:#F92672;">div</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">	&lt;/</span><span style="color:#F92672;">div</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#F92672;">template</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#F92672;">script</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F92672;">	import</span><span style="color:#F8F8F2;"> Vue </span><span style="color:#F92672;">from</span><span style="color:#E6DB74;"> &#39;vue&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672;">	export</span><span style="color:#F92672;"> default</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#A6E22E;">		data</span><span style="color:#F8F8F2;"> () {</span></span>
<span class="line"><span style="color:#F92672;">			return</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">				list: [</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">, </span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">],</span></span>
<span class="line"><span style="color:#F8F8F2;">				obj: {</span></span>
<span class="line"><span style="color:#F8F8F2;">					name: </span><span style="color:#E6DB74;">&#39;a&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">				},</span></span>
<span class="line"><span style="color:#F8F8F2;">			};</span></span>
<span class="line"><span style="color:#F8F8F2;">		},</span></span>
<span class="line"><span style="color:#A6E22E;">		mounted</span><span style="color:#F8F8F2;"> () {</span></span>
<span class="line"><span style="color:#88846F;">			// Vue.set(对象, 键名/索引值, 更新/新增的数据[缺省为删除对应属性/数组成员)</span></span>
<span class="line"><span style="color:#F8F8F2;">			Vue.</span><span style="color:#A6E22E;">set</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.list, </span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">, </span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">			// delete this.obj.name;</span></span>
<span class="line"><span style="color:#F8F8F2;">			Vue.</span><span style="color:#A6E22E;">set</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.obj, </span><span style="color:#E6DB74;">&#39;name&#39;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">			// this.obj.age = 1;</span></span>
<span class="line"><span style="color:#F8F8F2;">			Vue.</span><span style="color:#A6E22E;">set</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.obj, </span><span style="color:#E6DB74;">&#39;age&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">			// delete this.obj (不能与 delete 同时使用)</span></span>
<span class="line"><span style="color:#F8F8F2;">			Vue.</span><span style="color:#A6E22E;">set</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">, </span><span style="color:#E6DB74;">&#39;obj&#39;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">			// 赋予新值</span></span>
<span class="line"><span style="color:#FD971F;">			this</span><span style="color:#F8F8F2;">.list </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> [</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">, </span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">, </span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">];</span></span>
<span class="line"><span style="color:#FD971F;">			this</span><span style="color:#F8F8F2;">.obj </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> Object.</span><span style="color:#A6E22E;">assign</span><span style="color:#F8F8F2;">({}, </span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.obj, { age: </span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">			// 数组变异方法</span></span>
<span class="line"><span style="color:#FD971F;">			this</span><span style="color:#F8F8F2;">.list.</span><span style="color:#A6E22E;">push</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">		},</span></span>
<span class="line"><span style="color:#F8F8F2;">	}</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#F92672;">script</span><span style="color:#F8F8F2;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><h2 id="更新-el-dialog-数据" tabindex="-1">更新 el-dialog 数据 <a class="header-anchor" href="#更新-el-dialog-数据" aria-label="Permalink to &quot;更新 el-dialog 数据&quot;">​</a></h2><div class="language-vue line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#F92672;">el-dialog</span></span>
<span class="line"><span style="color:#F92672;">	v-if</span><span style="color:#F8F8F2;">=</span><span style="color:#F8F8F2;">&quot;</span><span style="color:#F8F8F2;">show</span><span style="color:#F8F8F2;">&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">	:</span><span style="color:#A6E22E;">visible</span><span style="color:#F8F8F2;">.</span><span style="color:#A6E22E;">sync</span><span style="color:#F8F8F2;">=</span><span style="color:#F8F8F2;">&quot;</span><span style="color:#F8F8F2;">show</span><span style="color:#F8F8F2;">&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#F92672;">el-dialog</span><span style="color:#F8F8F2;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="强制刷新渲染" tabindex="-1">强制刷新渲染 <a class="header-anchor" href="#强制刷新渲染" aria-label="Permalink to &quot;强制刷新渲染&quot;">​</a></h2><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.</span><span style="color:#A6E22E;">$forceUpdate</span><span style="color:#F8F8F2;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,10),o=[e];function t(F,r,c,i,y,b){return a(),n("div",null,o)}const m=s(p,[["render",t]]);export{d as __pageData,m as default};
