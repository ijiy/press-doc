import{_ as s,c as n,o as a,a1 as l}from"./chunks/framework.B3EJgH_4.js";const d=JSON.parse('{"title":"vue3 【全局变量 (不推荐) 全局属性globalProperties上挂载变量】","description":"","frontmatter":{},"headers":[],"relativePath":"vue/vue3/msg-global.md","filePath":"vue/vue3/msg-global.md","lastUpdated":1715407916000}'),p={name:"vue/vue3/msg-global.md"},e=l(`<h1 id="vue3-【全局变量-不推荐-全局属性globalproperties上挂载变量】" tabindex="-1">vue3 【全局变量 (不推荐) 全局属性<code>globalProperties</code>上挂载变量】 <a class="header-anchor" href="#vue3-【全局变量-不推荐-全局属性globalproperties上挂载变量】" aria-label="Permalink to &quot;vue3 【全局变量 (不推荐) 全局属性\`globalProperties\`上挂载变量】&quot;">​</a></h1><h2 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言" aria-label="Permalink to &quot;前言&quot;">​</a></h2><ul><li>提取自 <a href="./../dev3/">极简调试配置</a></li></ul><h2 id="注意" tabindex="-1">注意 <a class="header-anchor" href="#注意" aria-label="Permalink to &quot;注意&quot;">​</a></h2><ul><li><blockquote><p>vue官解: 一个用于注册能够被应用内所有组件实例访问到的全局属性的对象</p></blockquote></li><li><blockquote><p>vue官解: 与任何全局的东西一样, 应该谨慎使用</p></blockquote></li></ul><h2 id="注册" tabindex="-1">注册 <a class="header-anchor" href="#注册" aria-label="Permalink to &quot;注册&quot;">​</a></h2><ul><li>方式1</li></ul><p>main.js</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> {createApp} </span><span style="color:#F92672;">from</span><span style="color:#E6DB74;"> &#39;vue&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> App </span><span style="color:#F92672;">from</span><span style="color:#E6DB74;"> &#39;./App.vue&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> app </span><span style="color:#F92672;">=</span><span style="color:#A6E22E;"> createApp</span><span style="color:#F8F8F2;">(App).</span><span style="color:#A6E22E;">mount</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;#app&#39;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">app.config.globalProperties.$xy </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &#39;12&#39;</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>方式2</li></ul><p>xy.js</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#F92672;">export</span><span style="color:#66D9EF;font-style:italic;"> const</span><span style="color:#A6E22E;"> xY1</span><span style="color:#F92672;"> =</span><span style="color:#FD971F;font-style:italic;"> app</span><span style="color:#66D9EF;font-style:italic;"> =&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">    app.config.globalProperties.$x1 </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &#39;y1&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672;">export</span><span style="color:#66D9EF;font-style:italic;"> const</span><span style="color:#A6E22E;"> xY2</span><span style="color:#F92672;"> =</span><span style="color:#FD971F;font-style:italic;"> app</span><span style="color:#66D9EF;font-style:italic;"> =&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">    app.config.globalProperties.$x2 </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &#39;y2&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>plugin.js</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> { xY1, xY2 } </span><span style="color:#F92672;">from</span><span style="color:#E6DB74;"> &#39;./xy&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672;">export</span><span style="color:#F92672;"> default</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#A6E22E;">    install</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">Vue</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#A6E22E;">        xY1</span><span style="color:#F8F8F2;">(Vue);</span></span>
<span class="line"><span style="color:#A6E22E;">        xY2</span><span style="color:#F8F8F2;">(Vue);</span></span>
<span class="line"><span style="color:#F8F8F2;">    },</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>main.js</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> {createApp} </span><span style="color:#F92672;">from</span><span style="color:#E6DB74;"> &#39;vue&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> App </span><span style="color:#F92672;">from</span><span style="color:#E6DB74;"> &#39;./App.vue&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> plugin </span><span style="color:#F92672;">from</span><span style="color:#E6DB74;"> &#39;./plugin&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6E22E;">createApp</span><span style="color:#F8F8F2;">(App).</span><span style="color:#A6E22E;">use</span><span style="color:#F8F8F2;">(plugin).</span><span style="color:#A6E22E;">mount</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;#app&#39;</span><span style="color:#F8F8F2;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="使用方式" tabindex="-1">使用方式 <a class="header-anchor" href="#使用方式" aria-label="Permalink to &quot;使用方式&quot;">​</a></h2><ul><li>组合式</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> {getCurrentInstance} </span><span style="color:#F92672;">from</span><span style="color:#E6DB74;"> &#39;vue&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> {proxy} </span><span style="color:#F92672;">=</span><span style="color:#A6E22E;"> getCurrentInstance</span><span style="color:#F8F8F2;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(proxy.$x1, proxy.$x2);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>选项式</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#F92672;">export</span><span style="color:#F92672;"> default</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#A6E22E;">	mounted</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">		console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.$x1, </span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.$x2);</span></span>
<span class="line"><span style="color:#F8F8F2;">	},</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,21),o=[e];function r(c,t,i,F,y,u){return a(),n("div",null,o)}const m=s(p,[["render",r]]);export{d as __pageData,m as default};
